<!DOCTYPE html>
<html>
	<head>
		<!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame
		Remove this if you use the .htaccess -->
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

		<title>Watson</title>

		<!-- Google fonts -->
<!-- 	    <link href='http://fonts.googleapis.com/css?family=Exo+2' rel='stylesheet' type='text/css'> -->
	    <!-- CSS files -->
	    <link href="../lib/css/bootstrap.css" rel="stylesheet">
		<link href="../lib/css/styles.css" rel="stylesheet">
		<link href="../lib/css/generalmedia.css" rel="stylesheet">
		
		<link rel="stylesheet" href="css/jquery.handsontable.full.css">
		
		
	    <!-- Java Script files -->
		<script type="text/javascript" src="../lib/js/jquery-1.10.2.min.js"></script>
		<script type="text/javascript" src="../lib/js/bootstrap.min.js"></script>
		<script type="text/javascript" src="../lib/js/nav.js"></script>
		<script type="text/javascript" src="../lib/js/master.js"></script> 
		<script type="text/javascript" src="../lib/js/TOCGenerator.js"></script>
		<script type="text/javascript" src="../lib/js/Numbering.js"></script>
		<script type="text/javascript" src="../lib/js/Miscellaneous.js"></script> 
		<script src="js/jquery.handsontable.full.js"></script>
		<script type="text/javascript" src="../lib/js/WatsonDataStore.js"></script>
	</head>
	
	<body>
		<div id="wrapper" class="page-wrapper">
		<div id="sheetQuestion"></div>
		<br/><br/>
		<div id="sheet"></div>
		
		<div id="sheetholder"></div>
		<br/> <br/> <br/><br/><br/><br/>
		
		<div style="text-align: center">
				<button class="btn btn-small btn-primary" onclick="saveExercise()" style="margin-top: 10px;">Save Exercise</button>
				<button class="btn btn-small btn-primary" onclick="clearExercise()" style="margin-top: 10px;">Clear Exercise</button>
			</div>
		</div> <!-- End wrapper -->
	</body>
	
	<script src="js/addElements.js"></script>
	<script src="js/jquery.mobile.custom.min.js"></script>
	<script src="js/jquery-ui-1.10.4.custom.js"></script>
	<script src="js/table.js"></script>
	<script src="js/cellFunctions.js"></script>
	<script src="js/functionParse.js"></script>
	<script src="js/setup.js"></script>
	<script type="text/javascript">
		$(document).ready(function(){
			populateNav();
			
			var exerNum = parseFloat(localStorage.getItem("currExerNum"));
			var exerQues = localStorage.getItem("exerciseQuestion");
			var metaQues = localStorage.getItem("metaQuestion");
			
			document.getElementById("sheetQuestion").innerHTML = metaQues;
						
			document.getElementById("sheet").innerHTML = exerQues;
			
			var contDiv = document.getElementById("sheetholder");
			
			$(contDiv).attr('id', 'container' + exerNum);
			
			Setup(exerNum);
			
			lab = new DataStore();
			
		})
		
		
		function saveExercise() {
			
			var exerNum = parseFloat(localStorage.getItem("currExerNum"));
			var blarp = document.getElementById("sheetholder").innerHTML;
			localStorage.setItem('container-exer' + exerNum, $("container" + exerNum).html.serialize());
		}
		
		function clearExercise() {
			console.log(lab);
			lab.clearEditor();
		}
		
	</script>
	
</html>